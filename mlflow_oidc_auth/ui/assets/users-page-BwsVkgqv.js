import{o as e,r as t}from"./button-DJ30HgDO.js";import"./use-runtime-config-CkwqDzno.js";import"./use-api-CtLXpHJw.js";import"./user-service-nbxILwlX.js";import{t as n}from"./page-container-Bc69w3xC.js";import{i as r,n as i,r as a,t as o}from"./search-input-B74H8nYS.js";import{t as s}from"./use-all-users-CDNpVnIu.js";import{t as c}from"./row-action-button-Bq4jL3Pb.js";var l=e(t(),1);function u(){let{searchTerm:e,submittedTerm:t,handleInputChange:u,handleSearchSubmit:d,handleClearSearch:f}=r(),{isLoading:p,error:m,refresh:h,allUsers:g}=s(),_=(g||[]).filter(e=>e.toLowerCase().includes(t.toLowerCase())).map(e=>({id:e,username:e})),v=e=>(0,l.jsx)(`div`,{className:`invisible group-hover:visible`,children:(0,l.jsx)(c,{entityId:`${e}/experiments`,route:`/users`,buttonText:`Manage permissions`})});return(0,l.jsxs)(n,{title:`Users`,children:[(0,l.jsx)(i,{isLoading:p,loadingText:`Loading users list...`,error:m,onRetry:h}),!p&&!m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(`div`,{className:`mb-2`,children:(0,l.jsx)(o,{value:e,onInputChange:u,onSubmit:d,onClear:f,placeholder:`Search users...`})}),(0,l.jsx)(a,{data:_,searchTerm:t,columns:[{header:`Username`,render:({username:e})=>(0,l.jsx)(`span`,{className:`truncate block`,title:e,children:e})},{header:`Permissions`,render:({username:e})=>v(e),className:`flex-shrink-0`}]})]})]})}export{u as default};